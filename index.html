<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Fishing Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
html,body{margin:0;padding:0;overflow:hidden;background:black;touch-action:none}
#money{position:fixed;bottom:10px;right:10px;color:white;font-size:18px;background:rgba(0,0,0,.5);padding:6px 10px;border-radius:6px}
#book{position:fixed;top:10px;left:10px;font-size:28px;cursor:pointer;z-index:10}
#rules{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:85%;max-width:420px;background:rgba(0,0,0,.9);color:white;padding:20px;border-radius:12px;display:none;z-index:20}
#msg{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);color:white;font-size:22px;display:none;text-shadow:2px 2px 5px black}
#joystick{position:fixed;bottom:120px;left:20px;width:110px;height:110px;background:rgba(255,255,255,.15);border-radius:50%}
#stick{position:absolute;left:30px;top:30px;width:50px;height:50px;background:white;border-radius:50%}
#jump{position:fixed;bottom:120px;right:20px;width:80px;height:80px;border-radius:50%}
#inventory{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);display:flex;gap:6px;overflow-x:auto;max-width:90%;padding:6px;background:rgba(0,0,0,.3);border-radius:6px}
.slot{width:42px;height:42px;border:2px solid white;color:white;font-size:9px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.5);flex:0 0 auto}
.slot.active{border-color:yellow}
#shop{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.9);color:white;padding:20px;border-radius:12px;display:none;z-index:50;text-align:center}
#login{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.9);color:white;padding:20px;border-radius:12px;z-index:100;text-align:center}
</style>
</head>
<body>

<div id="login">
 <h2>Login</h2>
 <input id="username" placeholder="Username"><br>
 <button id="loginBtn">Login</button>
</div>

<div id="book">ðŸ“˜</div>
<div id="rules"><button onclick="rules.style.display='none'">Close</button></div>
<div id="money">$0</div>
<div id="msg"></div>
<div id="joystick"><div id="stick"></div></div>
<button id="jump">JUMP</button>
<div id="inventory"></div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
/* ===== SCENE ===== */
const scene=new THREE.Scene();
scene.background=new THREE.Color(0x87CEEB);

const camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,.1,1000);
const renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);

scene.add(new THREE.AmbientLight(0xffffff,.7));
const sun=new THREE.DirectionalLight(0xffffff,1);
sun.position.set(10,20,10);
scene.add(sun);

/* GROUND */
const ground=new THREE.Mesh(
 new THREE.PlaneGeometry(2000,2000),
 new THREE.MeshStandardMaterial({color:0x1e90ff})
);
ground.rotation.x=-Math.PI/2;
ground.position.y=-1;
scene.add(ground);

/* ISLAND */
const island=new THREE.Mesh(
 new THREE.CylinderGeometry(18,22,2,64),
 new THREE.MeshStandardMaterial({color:0x2e8b57})
);
island.position.y=1;
scene.add(island);

/* ===== TALL DENSE TREES (ALREADY INCLUDED) ===== */
function addTree(x,z){
 const height=6+Math.random()*6;

 const trunk=new THREE.Mesh(
  new THREE.CylinderGeometry(.4,.6,height,16),
  new THREE.MeshStandardMaterial({color:0x8b5a2b})
 );
 trunk.position.set(x,height/2,z);
 scene.add(trunk);

 let y=height;
 for(let i=0;i<4;i++){
  const leaves=new THREE.Mesh(
   new THREE.ConeGeometry(2.8-i*.4,2.5,10),
   new THREE.MeshStandardMaterial({color:0x1e7f3b})
  );
  leaves.position.set(x,y,z);
  scene.add(leaves);
  y+=1.5;
 }
}

for(let i=0;i<35;i++){
 const a=Math.random()*Math.PI*2;
 const r=Math.random()*14;
 addTree(Math.cos(a)*r,Math.sin(a)*r);
}

/* PLAYER */
const player=new THREE.Object3D();
player.position.y=3;
scene.add(player);
player.add(camera);

/* LOOP */
function animate(){
 requestAnimationFrame(animate);
 renderer.render(scene,camera);
}
animate();
</script>
</body>
</html>
